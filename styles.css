/* =======================
   Pocket-Garden Scrapbook
   ======================= */

/* ---- Palette (baby pink + moss + sunny accents) ---- */
:root{
    --baby:#F8C8DC;        /* baby pink */
    --moss:#6B8F71;        /* moss green */
    --sun:#FFE08A;         /* soft yellow */
    --paper:#fffefd;       /* warm white */
    --ink:#1f2430;         /* readable text */
    --muted:#6b7280;
  
    --border:#EFDDE9;      /* pinkish border */
    --card:#ffffff;
    --alt:#FFF7FB;
  
    --container:1100px;
    --radius:18px;
    --shadow:0 12px 24px rgba(31,36,48,.08);
  }
  @media (prefers-color-scheme: dark){
    :root{
      --paper:#0e0f13; --ink:#e7ecf2; --muted:#a4b0be;
      --border:#262a33; --card:#11131a; --alt:#141722;
      --baby:#E69CB7; --moss:#2F5D3A; --sun:#FFD96B;
      --shadow:0 12px 24px rgba(0,0,0,.35);
    }
  }
  
  /* ---- Base ---- */
  *{box-sizing:border-box}
  html:focus-within{scroll-behavior:smooth}
  body{margin:0;background:var(--paper);color:var(--ink);
    font:16px/1.7 "Quicksand", system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;}
  img{max-width:100%;display:block}
  .sr-only{position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap}
  .skip{position:absolute;left:-9999px}
  .skip:focus{left:auto;top:auto;background:#000;color:rgb(255, 248, 235);padding:.5rem;border-radius:8px}
  
  /* subtle paper fibers */
  .paper{
    background:
      radial-gradient(10px 10px at 15% 12%, rgba(248,200,220,.25), transparent 40%),
      radial-gradient(10px 10px at 82% 18%, rgba(255,224,138,.25), transparent 40%),
      radial-gradient(10px 10px at 35% 86%, rgba(107,143,113,.15), transparent 40%),
      var(--paper);
  }
  
  /* ---- Header + tear + perforations ---- */
  .site-header{position:sticky;top:0;z-index:10;background:linear-gradient(180deg,#ffffffcc,#ffffff90 64%,transparent);
    backdrop-filter:saturate(140%) blur(6px)}
  @media (prefers-color-scheme: dark){ .site-header{background:linear-gradient(180deg,#0e0f13cc,#0e0f1390 64%,transparent)} }
  
  .header-inner{max-width:var(--container);margin-inline:auto;display:flex;align-items:center;justify-content:space-between;padding:1rem}
  
  /* CSS-only postage stamp logo */
  .stamp{
    position:relative; width:66px; height:80px; display:grid; place-items:center;
    text-decoration:none; isolation:isolate; border-radius:8px;
    font-size:28px;           /* emoji size */
    line-height:1;            /* keeps it nicely centered */
  
    /* washi stripes over a soft gradient */
    background:
      repeating-linear-gradient(45deg,
        color-mix(in oklab, var(--baby), white 10%) 0 10px,
        color-mix(in oklab, var(--sun),  white 15%) 10px 20px,
        color-mix(in oklab, var(--moss), white 15%) 20px 30px),
      linear-gradient(135deg, var(--baby), var(--moss));
    background-blend-mode: screen;
  
    border:2px solid color-mix(in oklab, var(--moss), black 10%);
    clip-path: polygon(0% 6%, 6% 0%, 94% 0%, 100% 6%, 100% 94%, 94% 100%, 6% 100%, 0% 94%);
    box-shadow: var(--shadow);
  }
  
  .stamp__sun{position:absolute; top:6px; right:8px; font-size:14px; color:#fff}
  .stamp__text{font-size:20px;color:#fff;text-shadow:0 1px 0 rgba(0,0,0,.12)}
  .stamp__note{position:absolute; bottom:6px; left:8px; font-size:10px; letter-spacing:.12em; color:#fff}
  
  /* top nav (mobile-first) */
  .top-nav ul{display:flex;gap:.5rem;list-style:none;margin:0;padding:0;align-items:center}
  .top-nav a, .top-nav button{appearance:none;border:1px dashed color-mix(in oklab,var(--baby),white 60%);
    background:var(--card); color:var(--ink); text-decoration:none; border-radius:999px; padding:.45rem .7rem; font-weight:600}
  .top-nav a:hover, .top-nav a:focus-visible, .top-nav button:hover, .top-nav button:focus-visible{
    background: color-mix(in oklab, var(--baby), white 85%);
  }
  
  /* torn paper edge */
  .tear{height:16px;background:
    radial-gradient(12px 10px at 10px 8px, transparent 68%, rgba(0,0,0,.06) 70%, transparent 72%) repeat-x;
    opacity:.25}
  .perfs{height:12px;background:
    radial-gradient(6px 6px at 8px 6px, rgba(0,0,0,.15) 20%, transparent 22%) repeat-x;
    background-size:24px 12px; opacity:.15}
  
  /* ---- Layout ---- */
  .layout{max-width:var(--container);margin-inline:auto;display:grid;grid-template-columns:1fr;gap:1rem;padding:1rem}
  @media (min-width:980px){ .layout{grid-template-columns:160px 1fr} }
  
  .bookmarks{display:none}
  @media (min-width:980px){
    .bookmarks{display:flex;flex-direction:column;gap:.6rem;position:sticky;top:88px;height:fit-content}
    .bookmark{position:relative;display:block;text-decoration:none;color:var(--ink);font-weight:700}
    .bookmark span{display:inline-block;background:linear-gradient(135deg,var(--baby),var(--moss));
      color:#fff;padding:.5rem .7rem;border-radius:6px 6px 0 0;box-shadow:var(--shadow)}
    .bookmark::after{content:"";display:block;height:10px;width:100%;background:
      linear-gradient(0deg,var(--sun),var(--sun)) left/100% 10px no-repeat,
      radial-gradient(6px 6px at left bottom, transparent 6px, var(--sun) 6px) left/10px 10px no-repeat,
      radial-gradient(6px 6px at right bottom, transparent 6px, var(--sun) 6px) right/10px 10px no-repeat;}
  }
  
  /* ---- “Seed packet” sections ---- */
  .packet{
    position:relative; background:var(--card); border:2px dashed color-mix(in oklab, var(--baby), white 60%);
    border-radius:var(--radius); padding:1.2rem; box-shadow:var(--shadow);
  }
  .packet--hero{
    background:
      linear-gradient(180deg, color-mix(in oklab, var(--baby), white 85%), transparent 55%),
      linear-gradient(0deg, var(--card), var(--card));
    text-align:center; padding:2.2rem 1.2rem;
  }
  .packet--contact{ text-align:center }
  
  .eyebrow{letter-spacing:.28em;text-transform:uppercase;font-weight:700;font-size:.8rem;color:var(--moss)}
  .hand{font-family:"Caveat",cursive;font-size:clamp(1.8rem,1.2rem + 2.2vw,2.8rem);line-height:1.1;margin:.2rem 0 .4rem}
  .big{font-size:clamp(2.2rem,1.6rem + 3vw,3.4rem)}
  .lead{max-width:62ch;margin-inline:auto;color:var(--muted)}
  .cta{margin-top:1rem}
  
  /* Decorative stamp in hero packet */
  .stamp-note{
    --g: conic-gradient(from 0turn, var(--moss), var(--baby), var(--sun), var(--moss));
    width:90px;height:110px;margin:1rem auto 0;border-radius:8px;
    background:var(--g); clip-path: polygon(0% 6%, 6% 0%, 94% 0%, 100% 6%, 100% 94%, 94% 100%, 6% 100%, 0% 94%);
    border:2px solid color-mix(in oklab, var(--moss), black 15%);
    filter:saturate(110%);
  }
  
  /* Washi tape corners */
  .tape{position:absolute;width:70px;height:22px;background:repeating-linear-gradient(45deg, var(--sun) 0 8px, color-mix(in oklab,var(--sun),white 25%) 8px 16px);
    opacity:.85; box-shadow:0 3px 8px rgba(0,0,0,.12); transform:rotate(-3deg)}
  .tape--lt{left:14px; top:-10px; border-radius:4px}
  .tape--rt{right:14px; top:-12px; transform:rotate(6deg); border-radius:4px}
  .tape--lb{left:16px; bottom:-12px; transform:rotate(2deg); border-radius:4px}
  .tape--rb{right:16px; bottom:-14px; transform:rotate(-5deg); border-radius:4px}
  
  /* Chips */
  .chips{display:flex;flex-wrap:wrap;gap:.5rem;list-style:none;padding:0;margin:.6rem 0 0}
  .chips li{padding:.3rem .6rem;border-radius:999px;border:1px dashed var(--border);background:var(--card);color:var(--muted)}
  
  /* Seed packet grid */
  .seed-grid{display:grid;grid-template-columns:1fr;gap:1rem;margin-top:.8rem}
  @media (min-width:760px){ .seed-grid{grid-template-columns:repeat(3,1fr)} }
  .seed{background:var(--card);border:2px dashed color-mix(in oklab,var(--moss),white 60%);border-radius:16px;padding:1rem;box-shadow:var(--shadow)}
  .seed header{display:flex;justify-content:space-between;align-items:center;gap:.5rem}
  .seed__tag{font-size:.8rem;color:#fff;background:linear-gradient(135deg,var(--moss),var(--baby));padding:.25rem .5rem;border-radius:999px}
  .links a{color:var(--moss);text-decoration:none}
  .links a:hover{text-decoration:underline}
  
  /* Timeline */
  .timeline{list-style:none;padding:0;margin:0}
  .row{display:grid;grid-template-columns:34px 1fr;gap:.8rem;align-items:flex-start;margin:1rem 0}
  .leaf{display:grid;place-items:center;width:34px;height:34px;border-radius:50%;background:linear-gradient(135deg,var(--moss),var(--baby));color:#fff; background-blend-mode: screen;}
  .row__body{background:var(--card);border:2px dashed color-mix(in oklab, var(--baby), white 60%);border-radius:14px;padding:.8rem}
  .muted{color:var(--muted);font-size:.95rem}
  
  /* Buttons */
  .btn{display:inline-block;border-radius:999px;padding:.65rem 1rem;text-decoration:none;font-weight:700;
    background:linear-gradient(135deg,var(--baby),var(--moss));color:#fff;border:1px solid transparent}
  .btn:hover{filter:brightness(1.05)}
  .btn--ghost{background:transparent;color:var(--ink);border-color:color-mix(in oklab,var(--moss),white 75%)}
  
  /* Footer */
  .site-footer{padding:2rem 0;text-align:center;color:var(--muted)}
  
  /* Accessibility + Motion */
  :focus-visible{outline:3px solid color-mix(in oklab, var(--moss), white 30%);outline-offset:2px;border-radius:8px}
  @media (prefers-reduced-motion: reduce){
    *{animation:none!important;transition:none!important;scroll-behavior:auto!important}
  }
  
  /* Responsive adjustments */
  @media (max-width:640px){
    .top-nav ul{flex-wrap:wrap}
  }

  .content{
    display: grid;
    row-gap: var(--section-gap, 25rem); /* tweak the number */
  }
  
  /* Optional: a bit roomier on wide screens */
  @media (min-width: 900px){
    .content{ row-gap: 3.5rem; }
  }

  .bookmarks { display: none !important; }

/* Keep a single-column layout on wide screens too */
@media (min-width: 980px){
  .layout { grid-template-columns: 1fr !important; }
}
/* Make in-page anchors land below the sticky header */
:root { --anchor-offset: 120px; } /* tweak if needed */
section.packet[id] { scroll-margin-top: var(--anchor-offset); }


/* ===== Project modal ===== */
#project-modal {
    width:min(720px, 92vw);
    border:2px dashed color-mix(in oklab, var(--moss), white 60%);
    border-radius:16px;
    padding:0;
    background:var(--card);
    color:var(--ink);
    box-shadow: var(--shadow);
  }
  
  #project-modal::backdrop {
    background: color-mix(in oklab, black, transparent 60%);
    backdrop-filter: blur(2px);
  }
  
  #project-modal .pm-close{
    position:absolute; top:.6rem; right:.6rem;
    border:1px dashed color-mix(in oklab, var(--baby), white 60%);
    background: var(--card);
    border-radius:999px;
    padding:.3rem .6rem;
    font:inherit; cursor:pointer;
  }
  #project-modal .pm-close:hover { background: color-mix(in oklab, var(--baby), white 85%); }
  
  #project-modal .pm-body{ padding:1.1rem 1.1rem 1.3rem }
  #project-modal .pm-title{ margin:0 2.2rem .25rem 0; font-size:1.25rem }
  #project-modal .pm-tag{
    display:inline-block; margin:.15rem 0 .8rem;
    font-size:.85rem; color:#fff;
    background:linear-gradient(135deg,var(--moss),var(--baby));
    padding:.25rem .55rem; border-radius:999px;
  }
  #project-modal .pm-content p{ margin:.6rem 0 }
  #project-modal .pm-content ul{ margin:.6rem 0 .2rem 1.2rem }
  
  .seed { cursor: pointer; }             /* make it feel clickable */
  .seed a { pointer-events: auto; }      /* but keep links clickable */
  .seed:focus-within,
  .seed:focus { outline:3px solid color-mix(in oklab, var(--moss), white 30%); outline-offset:2px; border-radius:12px }
  
  /* Subtle open/close motion */
  @media (prefers-reduced-motion: no-preference){
    #project-modal[open] { animation: modalIn .22s ease-out }
    @keyframes modalIn { from { transform: translateY(10px); opacity: 0 } }
  }
  
  /* Improve contrast for top-right nav in dark mode */
@media (prefers-color-scheme: dark){
    /* default (idle) stays subtle */
    .top-nav a,
    .top-nav button{
      background: var(--card);
      color: var(--ink); /* light text in dark mode */
      border-color: color-mix(in oklab, var(--moss), white 25%);
    }
  
    /* hover/focus: darker bg + white text for strong contrast */
    .top-nav a:hover,
    .top-nav a:focus-visible,
    .top-nav button:hover,
    .top-nav button:focus-visible{
      background: color-mix(in oklab, var(--moss), black 35%); /* dark green */
      color: #fff;
      border-color: color-mix(in oklab, var(--moss), black 20%);
    }
  
    /* optional: pressed/active feel */
    .top-nav button[aria-pressed="true"]{
      background: color-mix(in oklab, var(--moss), black 45%);
      color: #fff;
    }
  }
  @media (prefers-color-scheme: dark){
    .btn.btn--ghost{
      color: var(--ink);
      border-color: color-mix(in oklab, var(--moss), white 25%);
      background: transparent;
    }
    .btn.btn--ghost:hover,
    .btn.btn--ghost:focus-visible{
      background: color-mix(in oklab, var(--moss), black 35%);
      color: #fff;
    }
  }